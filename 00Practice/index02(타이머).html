<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
	
	<div>
	<h3>네이버 타이머 도전하기</h3>
	<p>조건</p>
	<ol>
		<li>select태그는 시간:99 or 분:60 or 초:60으로 화면이 생성될 때 엘리먼트 생성기법으로 처리합니다.</li>
		<li>시간설정 버튼을 클릭하면 시간이 세팅됩니다.</li>
		<li>타이머시작버튼은 토글형태로 타이머가 동작중이라면 일시정지 버튼으로 활성화 됩니다</li>
		<li>사용자가 버튼을 잘못클릭하는 경우를 고려하여, 어떠한 경우라도 중복으로 타이밍이 발생되면 안됩니다.</li>

	</ol>
	</div>
	
    <h3>시간을 선택하세요</h3>
    <select class="hh">
        
    </select>
    <select class="mm">
        
    </select>
    <select class="ss">
        
    </select>
    <button type="button" id="setTime">시간설정</button>
    <button type="button" id="startTime">타이머시작</button>
    
    <div class="clock">
        <h2>00:00:00</h2>
    </div>



    <script>
        
        var hh = document.querySelector(".hh");
        var mm = document.querySelector(".mm");
        var ss = document.querySelector(".ss");
        
        //시간
        var hour = 0;
        for(var i=99; i>=1; i--) {
            var option = document.createElement('option');
            hour = i;
            option.innerHTML = hour;
            hh.appendChild(option);
        }

        //분, 초
        var minute = 0;
        var second = 0;
        for(var i=60; i>=1; i--) {
            var option1 = document.createElement('option');
            minute = i;
            var option2 = document.createElement('option');
            second = i;
            option1.innerHTML = minute;
            mm.appendChild(option1);          
            option2.innerHTML = second;
            ss.appendChild(option2);
        }


        //시간 설정
        var setTime = document.getElementById("setTime");
        
        setTime.onclick = function() {
            
            var hourSelect = hh.options[hh.selectedIndex];
            var minuteSelect = mm.options[mm.selectedIndex];
            var secondSelect = ss.options[ss.selectedIndex];
                
            var clock = document.querySelector(".clock > h2");
            clock.innerHTML = hourSelect.innerHTML + ':' + minuteSelect.innerHTML + ':' + secondSelect.innerHTML;

        }


        //타이머 시작
        var startTime = document.getElementById("startTime");
        startTime.onclick = function() { 

            window.onload = function() {
                startTime.classList.add("start");
            }

            if(startTime.classList.contains("start")) { //타이머 줄어들기

                startTime.classList.remove("start");

                //타이머 감소
                setInterval(timeReduce, 1000);
                


                startTime.innerHTML = '일시정지';

            } else { //타이머 중지
                startTime.classList.add("start");

                //중지

                startTime.innerHTML = '타이머시작';
            }

        }

        function timeReduce() {
           
            var date = new Date();

            var hourSelect = hh.options[hh.selectedIndex];
            var minuteSelect = mm.options[mm.selectedIndex];
            var secondSelect = ss.options[ss.selectedIndex];

            var clock = document.querySelector(".clock > h2");
            clock.innerHTML = hourSelect.innerHTML + ':' + minuteSelect.innerHTML + ':' + secondSelect.innerHTML;

            secondSelect.innerHTML--;


            if(secondSelect.innerHTML===0) return;

        }
        




    </script>


</body>
</html>